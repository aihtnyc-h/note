- 품질이력 페이지 기획안 작성
- 장애 대시보드 서버 개발
  -> jpa 에서 mapper 로 변경 작업 중
  -> 리스트 완성, 검색조건 추가 중
- 회의 
- api 정의서 문서 작성 


----
`MyBatis`에서 파라미터 바인딩 문제로 발생한 것
```
Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'requestParam' not found. Available parameters are [companySelect, param7, param8, disabilitySelect, param5, pageNumber, param6, endDate, param9, outletId, chargerId, pageSize, disabilityInput, param3, param4, param1, param2, param10, startDate, stationSelect]] with root cause
```
`requestParam`은 여러 필드 (`startDate`, `endDate`, `disabilitySelect`, 등)를 포함하는 객체로 보이는데, 이 객체가 제대로 전달되지 않은 것

- **파라미터 전달 방법 변경**: `requestParam` 객체를 `MyBatis` 쿼리로 전달하려면, `requestParam` 자체가 아닌 `requestParam`의 필드를 각각 전달해야 합니다. 현재 `requestParam`을 사용하는 쿼리에서 각 필드를 직접 전달하도록 수정해야 합니다.
    
- **파라미터 매핑 수정**: `requestParam` 객체의 필드를 `MyBatis` 쿼리로 전달할 때, 객체를 직접 전달하는 방식이 아닌, 각 필드를 개별 파라미터로 전달해야 합니다. 예를 들어, `requestParam.getStartDate()`와 `requestParam.getEndDate()`와 같은 개별 필드를 `MyBatis` 쿼리 메소드로 전달합니다.
```
<select id="selectDisabilityHistoryData" resultType="com.moderntec.mog.monitoring.disabilityHistory.dto.DisabilityHistoryDTO$DisabilityHistoryData">  
    SELECT  
    ce.OCRN_DTTM AS ocrnDttm  
    , ce.CORP_ID AS businessName  
    , ce.RECHGST_ID AS stationCode  
    , (SELECT name_kr FROM chargestation WHERE sid = ce.RECHGST_ID) AS stationName  
    , ce.RECHGR_ID AS chargerId  
    , ce.CNNCTR_ID AS outletId  
    , ce.BRR_CD AS brrCd  
    , ce.VENDOR_BRR_CD AS vendorBrrCd  
    , e.DTLS AS dtls  
    , e.CNTRM AS cntrm  
    , ce.errorcode AS errorcode  
    , ce.CAR_NUMBER AS carNumber  
    , ce.CAR_ADDRESS AS carAddress  
    , ce.CAR_MANUFACTURER AS carManufacturer  
    , ce.START_SOC AS startSoc  
    , ce.SOC AS endSoc  
    , ce.POWER AS power  
    FROM  
    tb_charger_error ce  
    JOIN tb_error_code e ON ce.errorcode = e.id  
    WHERE 1=1  
    <if test="startDate == null and endDate == null">  
        AND DATE_FORMAT(ce.OCRN_DTTM, '%Y-%m-%d %H:%i:%s') BETWEEN CURDATE() - INTERVAL 7 DAY AND CURDATE()  
    </if>  
    <if test="startDate != null and endDate != null">  
        AND DATE_FORMAT(ce.OCRN_DTTM, '%Y-%m-%d %H:%i:%s') BETWEEN #{startDate} AND #{endDate}  
    </if>  
    <if test="stationSelect != null and stationSelect != 'ALL'">  
        AND ce.RECHGST_ID = #{stationSelect}  
    </if>  
    <if test="chargerId != null">  
        AND ce.RECHGR_ID = #{chargerId}  
    </if>  
    <if test="outletId != null">  
        AND ce.CNNCTR_ID = #{outletId}  
    </if>  
    <if test="disabilitySelect != null and disabilitySelect != 'all'">  
        AND e.BRR_CD = #{disabilitySelect}  
    </if>  
    <if test="disabilityInput != null and disabilityInput != 'all'">  
        AND ce.VENDOR_BRR_CD LIKE CONCAT('%', #{disabilityInput}, '%')  
    </if>  
    <if test="pageSize != null and pageNumber != null">  
        LIMIT #{pageSize} OFFSET #{pageNumber}  
    </if>  
    <!--        <if test="companySelect != null and companySelect != 'ALL'">-->  
    <!--            AND ce.RECHGST_ID IN-->    <!--            <foreach item="item" collection="comList" open="(" separator="," close=")">-->    <!--                #{item}-->    <!--            </foreach>-->    <!--        </if>--></select>
```


----
`LIMIT #{pageSize} OFFSET #{pageNumber}` 실수


```
### Error querying database.  Cause: java.lang.IndexOutOfBoundsException: Index: 17, Size: 17
### The error may exist in file [C:\Users\user\Documents\GitHub\MOG_Latest\target\classes\mappers\disabilityHistory\DisabilityHistory.xml]
### The error may involve com.moderntec.mog.monitoring.disabilityHistory.mapper.DisabilityHistoryMapper.selectDisabilityHistoryData
### The error occurred while handling results
### SQL: SELECT         ce.OCRN_DTTM AS ocrnDttm         , ce.CORP_ID AS businessName         , ce.RECHGST_ID AS stationCode         , (SELECT name_kr FROM chargestation WHERE sid = ce.RECHGST_ID) AS stationName         , ce.RECHGR_ID AS chargerId         , ce.CNNCTR_ID AS outletId         , ce.BRR_CD AS brrCd         , ce.VENDOR_BRR_CD AS vendorBrrCd         , e.DTLS AS dtls         , e.CNTRM AS cntrm         , ce.errorcode AS errorcode         , ce.CAR_NUMBER AS carNumber         , ce.CAR_ADDRESS AS carAddress         , ce.CAR_MANUFACTURER AS carManufacturer         , ce.START_SOC AS startSoc         , ce.SOC AS endSoc         , ce.POWER AS power         FROM         tb_charger_error ce         JOIN tb_error_code e ON ce.errorcode = e.id         WHERE 1=1                          AND DATE_FORMAT(ce.OCRN_DTTM, '%Y-%m-%d %H:%i:%s') BETWEEN ? AND ?                                                LIMIT ? OFFSET ?
### Cause: java.lang.IndexOutOfBoundsException: Index: 17, Size: 17] with root cause

java.lang.IndexOutOfBoundsException: Index: 17, Size: 17
```

LIMIT #{pageSize} OFFSET #{pageNumber} * #{pageSize}

- **pageNumber = 0, pageSize = 10**일 때, `LIMIT 10 OFFSET 0` (첫 번째 페이지, 10개의 결과)
- **pageNumber = 1, pageSize = 10**일 때, `LIMIT 10 OFFSET 10` (두 번째 페이지, 10개의 결과)
- **pageNumber = 2, pageSize = 10**일 때, `LIMIT 10 OFFSET 20` (세 번째 페이지, 10개의 결과)

DTO 매핑 실수!!
16개를 조회하고 있는데 DTO는 17개가 있기 때문에 에러발생